server {
 listen 8110;
 access_log off;
 
    # Allow larger request bodies (file uploads). Default nginx limit is 1m.
    # Set higher than the application limit to avoid 413 from nginx.
    client_max_body_size 8m;

 # Serve avatar static files from the mounted directory
 location /avatars/ {
  alias /usr/share/nginx/html/avatars/;
  access_log off;
  # Keep short cache to reduce the window where old avatar is shown after replacement
  expires 30s;
  add_header Cache-Control "public, max-age=30";
 }

 location / {
  proxy_pass http://backservice:8080/;
 }
}
